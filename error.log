rm -f .objs/Demo.pb.o ../Common/Libs//libproto_out.a
g++ -g -O2 -Wall -Werror -I../ -fPIC  `pkg-config --cflags --libs protobuf` -std=c++11 -lpthread -c Demo.pb.cc -o .objs/Demo.pb.o
ar cr ../Common/Libs//libproto_out.a .objs/Demo.pb.o
rm -f ./.objs/Epoll.o ./.objs/RedisServer.o ./.objs/ThreadTask.o ./.objs/MesHead.o ./.objs/TCPSocket.o ./.objs/BaseServer.o ./.objs/Buffer.o ./.objs/util.o ./Libs//libcommon.a
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c Epoll.cpp -o .objs/Epoll.o
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c RedisServer.cpp -o .objs/RedisServer.o
In file included from RedisServer.cpp:1:0:
RedisServer.h: In constructor ‘RedisServer::RedisServer(const string&, int)’:
RedisServer.h:110:9: warning: ‘RedisServer::m_port’ will be initialized after [-Wreorder]
     int m_port;
         ^~~~~~
RedisServer.h:108:11: warning:   ‘char* RedisServer::m_pcmd’ [-Wreorder]
     char *m_pcmd;
           ^~~~~~
RedisServer.h:13:5: warning:   when initialized here [-Wreorder]
     RedisServer(const std::string &ip, int port) : m_ip(ip), m_port(port), m_pcmd(new char[20])
     ^~~~~~~~~~~
RedisServer.h: In member function ‘int RedisServer::Restart()’:
RedisServer.h:50:5: warning: no return statement in function returning non-void [-Wreturn-type]
     }
     ^
RedisServer.h: In member function ‘int RedisServer::SetByBit(const string&, void*, int)’:
RedisServer.h:90:56: warning: unknown conversion type character ‘b’ in format [-Wformat=]
         snprintf(m_pcmd, 20, "SET %s \%b", _key.c_str());
                                                        ^
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c ThreadTask.cpp -o .objs/ThreadTask.o
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c MesHead.cpp -o .objs/MesHead.o
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c TCPSocket.cpp -o .objs/TCPSocket.o
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c BaseServer.cpp -o .objs/BaseServer.o
BaseServer.cpp: In member function ‘void BaseServer::wake_up_write()’:
BaseServer.cpp:49:113: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘ssize_t {aka long int}’ [-Wformat=]
         printf("[Common][BaseServer.cpp:%d][ERROR]:Write wake_up_fd error errno:[%d]!!!\n", __LINE__, ret, errno);
                                                                                                                 ^
BaseServer.cpp:49:113: warning: too many arguments for format [-Wformat-extra-args]
BaseServer.cpp:52:90: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘ssize_t {aka long int}’ [-Wformat=]
     printf("[Common][BaseServer.cpp:%d][INFO]:Write wake_up_fd num:[%d]\n", __LINE__, ret);
                                                                                          ^
BaseServer.cpp: In member function ‘void BaseServer::wake_up_read()’:
BaseServer.cpp:61:112: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘ssize_t {aka long int}’ [-Wformat=]
         printf("[Common][BaseServer.cpp:%d][ERROR]:Read wake_up_fd error errno:[%d]!!!\n", __LINE__, ret, errno);
                                                                                                                ^
BaseServer.cpp:61:112: warning: too many arguments for format [-Wformat-extra-args]
BaseServer.cpp:64:89: warning: format ‘%d’ expects argument of type ‘int’, but argument 3 has type ‘ssize_t {aka long int}’ [-Wformat=]
     printf("[Common][BaseServer.cpp:%d][INFO]:Read wake_up_fd num:[%d]\n", __LINE__, ret);
                                                                                         ^
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c Buffer.cpp -o .objs/Buffer.o
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c util.cpp -o .objs/util.o
ar cr Libs//libcommon.a .objs/Epoll.o .objs/RedisServer.o .objs/ThreadTask.o .objs/MesHead.o .objs/TCPSocket.o .objs/BaseServer.o .objs/Buffer.o .objs/util.o
rm -f ./.objs/Item.o ./Libs//libpackage.a
g++ -g -lpthread -Wall -I -I -fPIC -L/usr/lib64/ -lhiredis -lpthread `pkg-config --cflags --libs protobuf` -std=c++11 -Lpthread -c Item.cpp -o .objs/Item.o
In file included from Item.cpp:1:0:
Item.h: In constructor ‘AbstractItem::AbstractItem(EltemType, int)’:
Item.h:48:15: warning: ‘AbstractItem::m_eltem_type’ will be initialized after [-Wreorder]
     EltemType m_eltem_type;
               ^~~~~~~~~~~~
Item.h:46:9: warning:   ‘int AbstractItem::m_count’ [-Wreorder]
     int m_count;
         ^~~~~~~
Item.h:24:5: warning:   when initialized here [-Wreorder]
     AbstractItem(EltemType eltem_type, int id) : m_eltem_type(eltem_type),
     ^~~~~~~~~~~~
Item.h:46:9: warning: ‘AbstractItem::m_count’ will be initialized after [-Wreorder]
     int m_count;
         ^~~~~~~
Item.h:45:10: warning:   ‘bool AbstractItem::m_save’ [-Wreorder]
     bool m_save;
          ^~~~~~
Item.h:24:5: warning:   when initialized here [-Wreorder]
     AbstractItem(EltemType eltem_type, int id) : m_eltem_type(eltem_type),
     ^~~~~~~~~~~~
Item.h: In constructor ‘Item::Item(ItemInfo)’:
Item.h:57:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         for (int i = 0; i < info.mmotype.size(); i++)
                         ~~^~~~~~~~~~~~~~~~~~~~~
Item.h: In constructor ‘ItemAttribute::ItemAttribute(std::shared_ptr<Item>, std::vector<EltemAttributeType>, std::vector<int>)’:
Item.h:84:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         for (int i = 0; i < info.size(); i++)
                         ~~^~~~~~~~~~~~~
ar cr Libs//libpackage.a .objs/Item.o
rm -f ./.objs/GameServer.o ./.objs/Player.o ./.objs/main.o /home/zchen/workspace/Server_Demo/GameServer/../Bin/server
g++ -fPIC -O2 -Wall -std=c++11 -Wno-deprecated -Wno-unused-parameter -L/usr/lib64/ -g -Wno-unused-variable -Wno-unused-function -L/usr/lib64/ `pkg-config --cflags --libs protobuf`  -Lpthread -std=c++11 -I../Common -I../Package -c GameServer.cpp -o .objs/GameServer.o
In file included from ../Package/Money.h:3:0,
                 from ../Package/Package.h:3,
                 from Player.h:9,
                 from GameServer.h:5,
                 from GameServer.cpp:1:
../Package/Item.h: In constructor ‘AbstractItem::AbstractItem(EltemType, int)’:
../Package/Item.h:48:15: warning: ‘AbstractItem::m_eltem_type’ will be initialized after [-Wreorder]
     EltemType m_eltem_type;
               ^~~~~~~~~~~~
../Package/Item.h:46:9: warning:   ‘int AbstractItem::m_count’ [-Wreorder]
     int m_count;
         ^~~~~~~
../Package/Item.h:24:5: warning:   when initialized here [-Wreorder]
     AbstractItem(EltemType eltem_type, int id) : m_eltem_type(eltem_type),
     ^~~~~~~~~~~~
../Package/Item.h:46:9: warning: ‘AbstractItem::m_count’ will be initialized after [-Wreorder]
     int m_count;
         ^~~~~~~
../Package/Item.h:45:10: warning:   ‘bool AbstractItem::m_save’ [-Wreorder]
     bool m_save;
          ^~~~~~
../Package/Item.h:24:5: warning:   when initialized here [-Wreorder]
     AbstractItem(EltemType eltem_type, int id) : m_eltem_type(eltem_type),
     ^~~~~~~~~~~~
../Package/Item.h: In constructor ‘Item::Item(ItemInfo)’:
../Package/Item.h:57:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         for (int i = 0; i < info.mmotype.size(); i++)
                         ~~^~~~~~~~~~~~~~~~~~~~~
../Package/Item.h: In constructor ‘ItemAttribute::ItemAttribute(std::shared_ptr<Item>, std::vector<EltemAttributeType>, std::vector<int>)’:
../Package/Item.h:84:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         for (int i = 0; i < info.size(); i++)
                         ~~^~~~~~~~~~~~~
In file included from GameServer.h:8:0,
                 from GameServer.cpp:1:
../Common/RedisServer.h: In constructor ‘RedisServer::RedisServer(const string&, int)’:
../Common/RedisServer.h:110:9: warning: ‘RedisServer::m_port’ will be initialized after [-Wreorder]
     int m_port;
         ^~~~~~
../Common/RedisServer.h:108:11: warning:   ‘char* RedisServer::m_pcmd’ [-Wreorder]
     char *m_pcmd;
           ^~~~~~
../Common/RedisServer.h:13:5: warning:   when initialized here [-Wreorder]
     RedisServer(const std::string &ip, int port) : m_ip(ip), m_port(port), m_pcmd(new char[20])
     ^~~~~~~~~~~
../Common/RedisServer.h: In member function ‘int RedisServer::Restart()’:
../Common/RedisServer.h:50:5: warning: no return statement in function returning non-void [-Wreturn-type]
     }
     ^
../Common/RedisServer.h: In member function ‘int RedisServer::SetByBit(const string&, void*, int)’:
../Common/RedisServer.h:90:56: warning: unknown conversion type character ‘b’ in format [-Wformat=]
         snprintf(m_pcmd, 20, "SET %s \%b", _key.c_str());
                                                        ^
GameServer.cpp: In member function ‘int GameServer::on_message(TCPSocket&)’:
GameServer.cpp:25:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
GameServer.cpp: In member function ‘void GameServer::regist(TCPSocket&, std::__cxx11::string&, int)’:
GameServer.cpp:71:39: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     head.m_message_len = res.ByteSize() + MESSAGE_HEAD_SIZE;
                                       ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp:75:60: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     res.SerializePartialToArray(data_ + temp, res.ByteSize());
                                                            ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp: In member function ‘void GameServer::solve_add(TCPSocket&, std::__cxx11::string&, int)’:
GameServer.cpp:95:32: error: no match for ‘operator=’ (operand types are ‘std::vector<std::vector<int> >’ and ‘google::protobuf::int32 {aka int}’)
         info.value = req.value();
                                ^
In file included from /usr/include/c++/7/vector:69:0,
                 from /usr/local/include/google/protobuf/stubs/common.h:44,
                 from /usr/local/include/google/protobuf/io/coded_stream.h:141,
                 from ../Common/../Proto/Demo.pb.h:23,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/include/c++/7/bits/vector.tcc:179:5: note: candidate: std::vector<_Tp, _Alloc>& std::vector<_Tp, _Alloc>::operator=(const std::vector<_Tp, _Alloc>&) [with _Tp = std::vector<int>; _Alloc = std::allocator<std::vector<int> >]
     vector<_Tp, _Alloc>::
     ^~~~~~~~~~~~~~~~~~~
/usr/include/c++/7/bits/vector.tcc:179:5: note:   no known conversion for argument 1 from ‘google::protobuf::int32 {aka int}’ to ‘const std::vector<std::vector<int> >&’
In file included from /usr/include/c++/7/vector:64:0,
                 from /usr/local/include/google/protobuf/stubs/common.h:44,
                 from /usr/local/include/google/protobuf/io/coded_stream.h:141,
                 from ../Common/../Proto/Demo.pb.h:23,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/include/c++/7/bits/stl_vector.h:461:7: note: candidate: std::vector<_Tp, _Alloc>& std::vector<_Tp, _Alloc>::operator=(std::vector<_Tp, _Alloc>&&) [with _Tp = std::vector<int>; _Alloc = std::allocator<std::vector<int> >]
       operator=(vector&& __x) noexcept(_Alloc_traits::_S_nothrow_move())
       ^~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:461:7: note:   no known conversion for argument 1 from ‘google::protobuf::int32 {aka int}’ to ‘std::vector<std::vector<int> >&&’
/usr/include/c++/7/bits/stl_vector.h:482:7: note: candidate: std::vector<_Tp, _Alloc>& std::vector<_Tp, _Alloc>::operator=(std::initializer_list<_Tp>) [with _Tp = std::vector<int>; _Alloc = std::allocator<std::vector<int> >]
       operator=(initializer_list<value_type> __l)
       ^~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:482:7: note:   no known conversion for argument 1 from ‘google::protobuf::int32 {aka int}’ to ‘std::initializer_list<std::vector<int> >’
GameServer.cpp:96:35: error: invalid conversion from ‘google::protobuf::int32 {aka int}’ to ‘EltemType’ [-fpermissive]
         info.mtype = req.eltemtype();
                      ~~~~~~~~~~~~~^~
GameServer.cpp:97:67: error: ‘class Addreq’ has no member named ‘num’
         m_map_players[req.uid()].player->add(info, req.pos(), req.num(), req.dropfrom());
                                                                   ^~~
GameServer.cpp:101:74: error: invalid conversion from ‘google::protobuf::int32 {aka int}’ to ‘EltemType’ [-fpermissive]
         m_map_players[req.uid()].player->consume(req.uid(), req.eltemtype(), req.value(), req.dropfrom(), req.inuse());
                                                             ~~~~~~~~~~~~~^~
In file included from GameServer.h:5:0,
                 from GameServer.cpp:1:
Player.h:27:9: note:   initializing argument 2 of ‘int Player::consume(int, EltemType, int, bool, bool)’
     int consume(int id, EltemType type, int value, bool to_package, bool inuse);
         ^~~~~~~
GameServer.cpp:110:110: error: ‘std::unordered_map<int, std::shared_ptr<AbstractItem> > Player::m_in_use’ is private within this context
     for (unordered_map<int, std::shared_ptr<AbstractItem>>::iterator iter = m_map_players[req.uid()].player->m_in_use.begin(); iter != m_map_players[req.uid()].player->m_in_use.end(); iter++)
                                                                                                              ^~~~~~~~
In file included from GameServer.h:5:0,
                 from GameServer.cpp:1:
Player.h:40:60: note: declared private here
     std::unordered_map<int, std::shared_ptr<AbstractItem>> m_in_use; //在使用中的道具(非背包部分的道具)
                                                            ^~~~~~~~
GameServer.cpp:110:169: error: ‘std::unordered_map<int, std::shared_ptr<AbstractItem> > Player::m_in_use’ is private within this context
     for (unordered_map<int, std::shared_ptr<AbstractItem>>::iterator iter = m_map_players[req.uid()].player->m_in_use.begin(); iter != m_map_players[req.uid()].player->m_in_use.end(); iter++)
                                                                                                                                                                         ^~~~~~~~
In file included from GameServer.h:5:0,
                 from GameServer.cpp:1:
Player.h:40:60: note: declared private here
     std::unordered_map<int, std::shared_ptr<AbstractItem>> m_in_use; //在使用中的道具(非背包部分的道具)
                                                            ^~~~~~~~
GameServer.cpp:112:38: error: ‘class Redisplayerinfo’ has no member named ‘add_Attributeitempro’
         Attributeitempro *temp = tmp.add_Attributeitempro();
                                      ^~~~~~~~~~~~~~~~~~~~
GameServer.cpp:114:78: error: ‘std::unordered_map<int, std::shared_ptr<AbstractItem> > Player::m_in_use’ is private within this context
         std::shared_ptr<AbstractItem> ptr = m_map_players[req.uid()].player->m_in_use[iter->first];
                                                                              ^~~~~~~~
In file included from GameServer.h:5:0,
                 from GameServer.cpp:1:
Player.h:40:60: note: declared private here
     std::unordered_map<int, std::shared_ptr<AbstractItem>> m_in_use; //在使用中的道具(非背包部分的道具)
                                                            ^~~~~~~~
GameServer.cpp:117:15: error: ‘class Attributeitempro’ has no member named ‘set_mtype’; did you mean ‘eltemtype’?
         temp->set_mtype(ptr->get_eltem_type());
               ^~~~~~~~~
               eltemtype
GameServer.cpp:118:15: error: ‘class Attributeitempro’ has no member named ‘add_int32’
         temp->add_int32(ptr->get_attribute(EltemModuleType::eltem_Module_Base, EltemAttributeType::eltem_Attribute_Attack));
               ^~~~~~~~~
GameServer.cpp:119:15: error: ‘class Attributeitempro’ has no member named ‘add_int32’
         temp->add_int32(ptr->get_attribute(EltemModuleType::eltem_Module_Base, EltemAttributeType::eltem_Attribute_HP));
               ^~~~~~~~~
GameServer.cpp:120:15: error: ‘class Attributeitempro’ has no member named ‘add_int32’
         temp->add_int32(ptr->get_attribute(EltemModuleType::eltem_Module_Power, EltemAttributeType::eltem_Attribute_Attack));
               ^~~~~~~~~
GameServer.cpp:121:15: error: ‘class Attributeitempro’ has no member named ‘add_int32’
         temp->add_int32(ptr->get_attribute(EltemModuleType::eltem_Module_Power, EltemAttributeType::eltem_Attribute_HP));
               ^~~~~~~~~
GameServer.cpp:122:15: error: ‘class Attributeitempro’ has no member named ‘add_int32’
         temp->add_int32(ptr->get_attribute(EltemModuleType::eltem_Module_Insert, EltemAttributeType::eltem_Attribute_Attack));
               ^~~~~~~~~
GameServer.cpp:123:15: error: ‘class Attributeitempro’ has no member named ‘add_int32’
         temp->add_int32(ptr->get_attribute(EltemModuleType::eltem_Module_Insert, EltemAttributeType::eltem_Attribute_HP));
               ^~~~~~~~~
GameServer.cpp:128:33: error: ‘class Redisplayerinfo’ has no member named ‘add_Packagepro’; did you mean ‘has_package’?
     Packagepro *packagein = tmp.add_Packagepro();
                                 ^~~~~~~~~~~~~~
                                 has_package
GameServer.cpp:129:23: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     for (int i = 0; i > vec.size(); i++)
                     ~~^~~~~~~~~~~~
GameServer.cpp:131:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         for (int j = 0; j < vec[i].size(); j++)
                         ~~^~~~~~~~~~~~~~~
GameServer.cpp:133:49: error: ‘class Packagepro’ has no member named ‘add_Attributeitempro’; did you mean ‘add_itempro’?
             Attributeitempro *temp = packagein->add_Attributeitempro();
                                                 ^~~~~~~~~~~~~~~~~~~~
                                                 add_itempro
GameServer.cpp:137:19: error: ‘class Attributeitempro’ has no member named ‘set_mtype’; did you mean ‘eltemtype’?
             temp->set_mtype(vec[i][j]->get_eltem_type());
                   ^~~~~~~~~
                   eltemtype
GameServer.cpp:138:19: error: ‘class Attributeitempro’ has no member named ‘add_int32’
             temp->add_int32(vec[i][j]->get_attribute(EltemModuleType::eltem_Module_Base, EltemAttributeType::eltem_Attribute_Attack));
                   ^~~~~~~~~
GameServer.cpp:139:19: error: ‘class Attributeitempro’ has no member named ‘add_int32’
             temp->add_int32(vec[i][j]->get_attribute(EltemModuleType::eltem_Module_Base, EltemAttributeType::eltem_Attribute_HP));
                   ^~~~~~~~~
GameServer.cpp:140:19: error: ‘class Attributeitempro’ has no member named ‘add_int32’
             temp->add_int32(vec[i][j]->get_attribute(EltemModuleType::eltem_Module_Power, EltemAttributeType::eltem_Attribute_Attack));
                   ^~~~~~~~~
GameServer.cpp:141:19: error: ‘class Attributeitempro’ has no member named ‘add_int32’
             temp->add_int32(vec[i][j]->get_attribute(EltemModuleType::eltem_Module_Power, EltemAttributeType::eltem_Attribute_HP));
                   ^~~~~~~~~
GameServer.cpp:142:19: error: ‘class Attributeitempro’ has no member named ‘add_int32’
             temp->add_int32(vec[i][j]->get_attribute(EltemModuleType::eltem_Module_Insert, EltemAttributeType::eltem_Attribute_Attack));
                   ^~~~~~~~~
GameServer.cpp:143:19: error: ‘class Attributeitempro’ has no member named ‘add_int32’
             temp->add_int32(vec[i][j]->get_attribute(EltemModuleType::eltem_Module_Insert, EltemAttributeType::eltem_Attribute_HP));
                   ^~~~~~~~~
GameServer.cpp:150:5: error: ‘itoa’ was not declared in this scope
     itoa(tmp.id(), key, 4);
     ^~~~
GameServer.cpp:150:5: note: suggested alternative: ‘atol’
     itoa(tmp.id(), key, 4);
     ^~~~
     atol
GameServer.cpp:151:51: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     tmp.SerializePartialToArray(out, tmp.ByteSize());
                                                   ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp:152:53: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     m_redis_server->SetByBit(key, out, tmp.ByteSize());
                                                     ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp:159:39: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     head.m_message_len = res.ByteSize() + MESSAGE_HEAD_SIZE;
                                       ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp:164:60: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     res.SerializePartialToArray(data_ + temp, res.ByteSize());
                                                            ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp: In member function ‘void GameServer::solve_query(TCPSocket&, std::__cxx11::string&, int)’:
GameServer.cpp:181:9: error: ‘itoa’ was not declared in this scope
         itoa(req.uid(), idque, 4);
         ^~~~
GameServer.cpp:181:9: note: suggested alternative: ‘atol’
         itoa(req.uid(), idque, 4);
         ^~~~
         atol
GameServer.cpp:190:41: error: ‘class Redisplayerinfo’ has no member named ‘inuse_list’; did you mean ‘inuse_size’?
             Attributeitempro temp = tmp.inuse_list(i);
                                         ^~~~~~~~~~
                                         inuse_size
GameServer.cpp:195:41: error: ‘class Packagepro’ has no member named ‘attributeitempro_size’; did you mean ‘itempro_size’?
         for (int i = 0; i < packageinfo.attributeitempro_size(); i++)
                                         ^~~~~~~~~~~~~~~~~~~~~
                                         itempro_size
GameServer.cpp:197:49: error: ‘class Packagepro’ has no member named ‘itempro_list’; did you mean ‘itempro_size’?
             Attributeitempro temp = packageinfo.itempro_list(i);
                                                 ^~~~~~~~~~~~
                                                 itempro_size
GameServer.cpp:207:39: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     head.m_message_len = res.ByteSize() + MESSAGE_HEAD_SIZE;
                                       ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
GameServer.cpp:212:60: warning: ‘int google::protobuf::MessageLite::ByteSize() const’ is deprecated: Please use ByteSizeLong() instead [-Wdeprecated-declarations]
     res.SerializePartialToArray(data_ + temp, res.ByteSize());
                                                            ^
In file included from /usr/local/include/google/protobuf/generated_enum_util.h:36:0,
                 from /usr/local/include/google/protobuf/map.h:55,
                 from /usr/local/include/google/protobuf/generated_message_table_driven.h:34,
                 from ../Common/../Proto/Demo.pb.h:26,
                 from ../Common/base.h:34,
                 from ../Common/TCPSocket.h:5,
                 from ../Common/BaseServer.h:5,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/local/include/google/protobuf/message_lite.h:438:7: note: declared here
   int ByteSize() const { return internal::ToIntSize(ByteSizeLong()); }
       ^~~~~~~~
In file included from /usr/include/x86_64-linux-gnu/c++/7/bits/c++allocator.h:33:0,
                 from /usr/include/c++/7/bits/allocator.h:46,
                 from /usr/include/c++/7/bits/stl_tree.h:64,
                 from /usr/include/c++/7/map:60,
                 from ../Common/BaseServer.h:3,
                 from GameServer.h:3,
                 from GameServer.cpp:1:
/usr/include/c++/7/ext/new_allocator.h: In instantiation of ‘void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = Player; _Args = {Player*}; _Tp = Player]’:
/usr/include/c++/7/bits/alloc_traits.h:475:4:   required from ‘static void std::allocator_traits<std::allocator<_Tp1> >::construct(std::allocator_traits<std::allocator<_Tp1> >::allocator_type&, _Up*, _Args&& ...) [with _Up = Player; _Args = {Player*}; _Tp = Player; std::allocator_traits<std::allocator<_Tp1> >::allocator_type = std::allocator<Player>]’
/usr/include/c++/7/bits/shared_ptr_base.h:526:39:   required from ‘std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {Player*}; _Tp = Player; _Alloc = std::allocator<Player>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2]’
/usr/include/c++/7/bits/shared_ptr_base.h:637:4:   required from ‘std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = Player; _Alloc = std::allocator<Player>; _Args = {Player*}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2]’
/usr/include/c++/7/bits/shared_ptr_base.h:1295:35:   required from ‘std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<Player>; _Args = {Player*}; _Tp = Player; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2]’
/usr/include/c++/7/bits/shared_ptr.h:344:64:   required from ‘std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<Player>; _Args = {Player*}; _Tp = Player]’
/usr/include/c++/7/bits/shared_ptr.h:690:14:   required from ‘std::shared_ptr<_Tp> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = Player; _Alloc = std::allocator<Player>; _Args = {Player*}]’
/usr/include/c++/7/bits/shared_ptr.h:706:39:   required from ‘std::shared_ptr<_Tp> std::make_shared(_Args&& ...) [with _Tp = Player; _Args = {Player*}]’
GameServer.cpp:62:110:   required from here
/usr/include/c++/7/ext/new_allocator.h:136:4: error: invalid conversion from ‘Player*’ to ‘int’ [-fpermissive]
  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from GameServer.h:5:0,
                 from GameServer.cpp:1:
Player.h:14:14: note:   initializing argument 1 of ‘Player::Player(int)’
     explicit Player(int uin)
              ^~~~~~
Makefile:50: recipe for target '.objs/GameServer.o' failed
make: *** [.objs/GameServer.o] Error 1
mv: cannot stat '../Bin/*': No such file or directory
